<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check Admin User</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        .result { margin: 20px 0; padding: 15px; border-radius: 5px; }
        .success { background-color: #d4edda; border: 1px solid #c3e6cb; color: #155724; }
        .error { background-color: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; }
        .info { background-color: #d1ecf1; border: 1px solid #bee5eb; color: #0c5460; }
    </style>
</head>
<body>
    <h1>Admin User Verification</h1>
    <button onclick="checkUsers()">Check Users in localStorage</button>
    <div id="results"></div>

    <script>
        function checkUsers() {
            const resultsDiv = document.getElementById('results');
            const usersJson = localStorage.getItem('roadmaster-users');
            
            if (!usersJson) {
                resultsDiv.innerHTML = '<div class="error">No users found in localStorage!</div>';
                return;
            }
            
            try {
                const users = JSON.parse(usersJson);
                
                if (users.length === 0) {
                    resultsDiv.innerHTML = '<div class="error">Users array is empty!</div>';
                    return;
                }
                
                let output = '<div class="info">Found ' + users.length + ' user(s) in localStorage:</div>';
                
                users.forEach(user => {
                    const isAdmin = user.role === 'Admin' || user.role === 'ADMIN' || user.role === 'admin';
                    const isCorrectAdmin = user.name === 'Dharma Dhoj Kunwar' && 
                                          user.email === 'dharmadkunwar20@gmail.com' &&
                                          user.phone === '9779802877286';
                    
                    output += `
                        <div class="result ${isAdmin && isCorrectAdmin ? 'success' : 'info'}">
                            <strong>ID:</strong> ${user.id}<br>
                            <strong>Name:</strong> ${user.name}<br>
                            <strong>Email:</strong> ${user.email}<br>
                            <strong>Phone:</strong> ${user.phone}<br>
                            <strong>Role:</strong> ${user.role}<br>
                            <strong>Is Admin:</strong> ${isAdmin ? 'Yes' : 'No'}<br>
                            <strong>Matches Specified:</strong> ${isCorrectAdmin ? 'Yes' : 'No'}<br>
                        </div>
                    `;
                });
                
                resultsDiv.innerHTML = output;
                
            } catch (e) {
                resultsDiv.innerHTML = '<div class="error">Error parsing users JSON: ' + e.message + '</div>';
            }
        }
    </script>
</body>
</html>